{"ast":null,"code":"var _jsxFileName = \"D:\\\\VSCode\\\\learn react\\\\learn\\\\src\\\\components\\\\Search.jsx\";\nimport React, { useState } from \"react\";\nconst Search = ({\n  setSearchResults: propagateResults\n}) => {\n  const [keyword, setKeyword] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]); // State cho kết quả tìm kiếm\n\n  const handleSearch = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/mycoffee/product/search?keyword=${keyword}`, {\n        method: \"GET\"\n      });\n      if (!response.ok) throw new Error(\"Search API failed\");\n      const data = await response.json();\n      const results = data.result || [];\n      const formattedResults = results.map(item => ({\n        id: item.id,\n        name: item.name,\n        price: item.price,\n        image_url: item.image_url\n      }));\n      setSearchResults(formattedResults); // Cập nhật state nội bộ\n      propagateResults(formattedResults); // Đẩy dữ liệu ra ngoài\n    } catch (error) {\n      console.error(\"Error during search:\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-box d-flex align-items-center border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Search...\",\n    className: \"input\",\n    type: \"text\",\n    value: keyword,\n    onChange: e => setKeyword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-icon-content p-2\",\n    \"aria-label\": \"Search\",\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-results mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, searchResults.length > 0 ? /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, searchResults.map(result => /*#__PURE__*/React.createElement(\"li\", {\n    key: result.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: result.image_url,\n    alt: result.name,\n    width: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, result.name), \" - \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 46\n    }\n  }, \"$\", result.price)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"No results found\")), /*#__PURE__*/React.createElement(\"style\", {\n    jsx: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, `\n        .search-box {\n          height: 45px;\n          border-radius: 5px;\n          background-color: #333333;\n        }\n\n        .input {\n          color: #cccccc;\n          background-color: #333333;\n          border: none;\n          outline: none;\n          padding: 5px;\n        }\n\n        .input::placeholder {\n          color: #808080;\n        }\n\n        .btn-icon-content {\n          background-color: transparent;\n          border: none;\n          cursor: pointer;\n        }\n\n        .search-icon svg {\n          width: 22px;\n          height: 30px;\n          fill: #ffffff;\n        }\n\n        .search-results ul {\n          list-style: none;\n          padding: 0;\n        }\n\n        .search-results li {\n          display: flex;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .search-results img {\n          margin-right: 10px;\n        }\n      `));\n};\nexport default Search;","map":{"version":3,"names":["React","useState","Search","setSearchResults","propagateResults","keyword","setKeyword","searchResults","handleSearch","response","fetch","method","ok","Error","data","json","results","result","formattedResults","map","item","id","name","price","image_url","error","console","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","value","onChange","e","target","onClick","xmlns","viewBox","d","length","key","src","alt","width","jsx"],"sources":["D:/VSCode/learn react/learn/src/components/Search.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Search = ({ setSearchResults: propagateResults }) => {\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]); // State cho kết quả tìm kiếm\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:8080/mycoffee/product/search?keyword=${keyword}`,\r\n        { method: \"GET\" }\r\n      );\r\n\r\n      if (!response.ok) throw new Error(\"Search API failed\");\r\n\r\n      const data = await response.json();\r\n      const results = data.result || [];\r\n\r\n      const formattedResults = results.map((item) => ({\r\n        id: item.id,\r\n        name: item.name,\r\n        price: item.price,\r\n        image_url: item.image_url,\r\n      }));\r\n\r\n      setSearchResults(formattedResults); // Cập nhật state nội bộ\r\n      propagateResults(formattedResults); // Đẩy dữ liệu ra ngoài\r\n    } catch (error) {\r\n      console.error(\"Error during search:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center mx-auto\">\r\n        <div className=\"search-box d-flex align-items-center border\">\r\n          <input\r\n            placeholder=\"Search...\"\r\n            className=\"input\"\r\n            type=\"text\"\r\n            value={keyword}\r\n            onChange={(e) => setKeyword(e.target.value)}\r\n          />\r\n          <button\r\n            className=\"btn-icon-content p-2\"\r\n            aria-label=\"Search\"\r\n            onClick={handleSearch}\r\n          >\r\n            <span className=\"search-icon\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                <path d=\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"></path>\r\n              </svg>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"search-results mt-3\">\r\n        {searchResults.length > 0 ? (\r\n          <ul>\r\n            {searchResults.map((result) => (\r\n              <li key={result.id}>\r\n                <img src={result.image_url} alt={result.name} width=\"50\" />\r\n                <span>{result.name}</span> - <span>${result.price}</span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p>No results found</p>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .search-box {\r\n          height: 45px;\r\n          border-radius: 5px;\r\n          background-color: #333333;\r\n        }\r\n\r\n        .input {\r\n          color: #cccccc;\r\n          background-color: #333333;\r\n          border: none;\r\n          outline: none;\r\n          padding: 5px;\r\n        }\r\n\r\n        .input::placeholder {\r\n          color: #808080;\r\n        }\r\n\r\n        .btn-icon-content {\r\n          background-color: transparent;\r\n          border: none;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .search-icon svg {\r\n          width: 22px;\r\n          height: 30px;\r\n          fill: #ffffff;\r\n        }\r\n\r\n        .search-results ul {\r\n          list-style: none;\r\n          padding: 0;\r\n        }\r\n\r\n        .search-results li {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .search-results img {\r\n          margin-right: 10px;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,MAAMC,MAAM,GAAGA,CAAC;EAAEC,gBAAgB,EAAEC;AAAiB,CAAC,KAAK;EACzD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACM,aAAa,EAAEJ,gBAAgB,CAAC,GAAGF,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAExD,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,yDAAyDL,OAAO,EAAE,EAClE;QAAEM,MAAM,EAAE;MAAM,CAClB,CAAC;MAED,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;MAEtD,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClC,MAAMC,OAAO,GAAGF,IAAI,CAACG,MAAM,IAAI,EAAE;MAEjC,MAAMC,gBAAgB,GAAGF,OAAO,CAACG,GAAG,CAAEC,IAAI,KAAM;QAC9CC,EAAE,EAAED,IAAI,CAACC,EAAE;QACXC,IAAI,EAAEF,IAAI,CAACE,IAAI;QACfC,KAAK,EAAEH,IAAI,CAACG,KAAK;QACjBC,SAAS,EAAEJ,IAAI,CAACI;MAClB,CAAC,CAAC,CAAC;MAEHrB,gBAAgB,CAACe,gBAAgB,CAAC,CAAC,CAAC;MACpCd,gBAAgB,CAACc,gBAAgB,CAAC,CAAC,CAAC;IACtC,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAED,oBACEzB,KAAA,CAAA2B,aAAA,CAAA3B,KAAA,CAAA4B,QAAA,qBACE5B,KAAA,CAAA2B,aAAA;IAAKE,SAAS,EAAC,mCAAmC;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChDnC,KAAA,CAAA2B,aAAA;IAAKE,SAAS,EAAC,6CAA6C;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1DnC,KAAA,CAAA2B,aAAA;IACES,WAAW,EAAC,WAAW;IACvBP,SAAS,EAAC,OAAO;IACjBQ,IAAI,EAAC,MAAM;IACXC,KAAK,EAAEjC,OAAQ;IACfkC,QAAQ,EAAGC,CAAC,IAAKlC,UAAU,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC7C,CAAC,eACFnC,KAAA,CAAA2B,aAAA;IACEE,SAAS,EAAC,sBAAsB;IAChC,cAAW,QAAQ;IACnBa,OAAO,EAAElC,YAAa;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEtBnC,KAAA,CAAA2B,aAAA;IAAME,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BnC,KAAA,CAAA2B,aAAA;IAAKgB,KAAK,EAAC,4BAA4B;IAACC,OAAO,EAAC,aAAa;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3DnC,KAAA,CAAA2B,aAAA;IAAMkB,CAAC,EAAC,0OAA0O;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAO,CACtP,CACD,CACA,CACL,CACF,CAAC,eAENnC,KAAA,CAAA2B,aAAA;IAAKE,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACjC5B,aAAa,CAACuC,MAAM,GAAG,CAAC,gBACvB9C,KAAA,CAAA2B,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACG5B,aAAa,CAACY,GAAG,CAAEF,MAAM,iBACxBjB,KAAA,CAAA2B,aAAA;IAAIoB,GAAG,EAAE9B,MAAM,CAACI,EAAG;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBnC,KAAA,CAAA2B,aAAA;IAAKqB,GAAG,EAAE/B,MAAM,CAACO,SAAU;IAACyB,GAAG,EAAEhC,MAAM,CAACK,IAAK;IAAC4B,KAAK,EAAC,IAAI;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC3DnC,KAAA,CAAA2B,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAOlB,MAAM,CAACK,IAAW,CAAC,OAAG,eAAAtB,KAAA,CAAA2B,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,GAAC,EAAClB,MAAM,CAACM,KAAY,CACtD,CACL,CACC,CAAC,gBAELvB,KAAA,CAAA2B,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,kBAAmB,CAErB,CAAC,eAENnC,KAAA,CAAA2B,aAAA;IAAOwB,GAAG;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAe,CACT,CAAC;AAEP,CAAC;AAED,eAAejC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}