{"ast":null,"code":"var _jsxFileName = \"D:\\\\VSCode\\\\learn react\\\\Web-Project\\\\src\\\\components\\\\LoginForm.jsx\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nconst LoginForm = () => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const handleLogin = async event => {\n    event.preventDefault();\n    const requestBody = {\n      username: username,\n      password: password\n    };\n    try {\n      const response = await axios.post(`http://${process.env.REACT_APP_API_URL}/mycoffee/auth/token`, requestBody);\n      if (response.data && response.data.result && response.data.result.token) {\n        const token = response.data.result.token;\n\n        // Lưu token vào localStorage\n        localStorage.setItem('authToken', token);\n\n        // Điều hướng đến trang /Staff\n        navigate('/Staff');\n      } else {\n        setErrorMessage('Invalid response from server.');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      setErrorMessage('Failed to log in. Please try again.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-4 mb-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 col-xl-6 text-center mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Welcome back\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-xl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body text-center d-flex flex-column align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bs-icon-xl bs-icon-circle bs-icon-primary shadow bs-icon my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1em\",\n    height: \"1em\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 16 16\",\n    className: \"bi bi-person\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }))), errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, errorMessage), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"username\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary shadow d-block w-100\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, \"Log in\"))))))));\n};\nexport default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","axios","LoginForm","navigate","username","setUsername","password","setPassword","errorMessage","setErrorMessage","handleLogin","event","preventDefault","requestBody","response","post","process","env","REACT_APP_API_URL","data","result","token","localStorage","setItem","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","width","height","fill","viewBox","d","role","onSubmit","type","name","placeholder","value","onChange","e","target"],"sources":["D:/VSCode/learn react/Web-Project/src/components/LoginForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const requestBody = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`http://${process.env.REACT_APP_API_URL}/mycoffee/auth/token`, requestBody);\r\n\r\n      if (response.data && response.data.result && response.data.result.token) {\r\n        const token = response.data.result.token;\r\n\r\n        // Lưu token vào localStorage\r\n        localStorage.setItem('authToken', token);\r\n\r\n        // Điều hướng đến trang /Staff\r\n        navigate('/Staff');\r\n      } else {\r\n        setErrorMessage('Invalid response from server.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during login:', error);\r\n      setErrorMessage('Failed to log in. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"row mb-4 mb-lg-5\">\r\n        <div className=\"col-md-8 col-xl-6 text-center mx-auto\">\r\n          <h2 className=\"fw-bold\">Welcome back</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"row d-flex justify-content-center\">\r\n        <div className=\"col-md-6 col-xl-4\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body text-center d-flex flex-column align-items-center\">\r\n              <div className=\"bs-icon-xl bs-icon-circle bs-icon-primary shadow bs-icon my-4\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"1em\"\r\n                  height=\"1em\"\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 0 16 16\"\r\n                  className=\"bi bi-person\"\r\n                >\r\n                  <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z\"></path>\r\n                </svg>\r\n              </div>\r\n              {errorMessage && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  {errorMessage}\r\n                </div>\r\n              )}\r\n              <form onSubmit={handleLogin}>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"username\"\r\n                    name=\"username\"\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <button\r\n                    className=\"btn btn-primary shadow d-block w-100\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Log in\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}