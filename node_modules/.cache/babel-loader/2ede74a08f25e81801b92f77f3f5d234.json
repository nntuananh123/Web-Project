{"ast":null,"code":"var _jsxFileName = \"D:\\\\VSCode\\\\learn react\\\\learn\\\\src\\\\MenuPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\nimport NavBar from './components/NavBar';\nimport Category from './components/Category';\nimport ListMenu from './components/ListMenu';\nfunction MenuPage() {\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  useEffect(() => {\n    const fetchProductsByCategory = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/mycoffee/product', {\n          method: 'GET'\n        });\n        if (!response.ok) throw new Error('Failed to fetch products');\n        const data = await response.json();\n        const results = data.result || [];\n        if (selectedCategory === 'All') {\n          setSearchResults(results); // Hiển thị tất cả nếu chọn All\n        } else {\n          // Lọc theo category\n          const filteredResults = results.filter(product => product.category.name === selectedCategory);\n          setSearchResults(filteredResults);\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    };\n    fetchProductsByCategory();\n  }, [selectedCategory]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"assets/bootstrap/css/bootstrap.min.css?h=ae25e30cd2ef0f4f5b70ebf4c668048b\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(NavBar, {\n    showSearch: true,\n    setSearchResults: setSearchResults,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Category, {\n    setCategory: setSelectedCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ListMenu, {\n    searchResults: searchResults,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }));\n}\nexport default MenuPage;","map":{"version":3,"names":["React","useState","useEffect","Helmet","NavBar","Category","ListMenu","MenuPage","searchResults","setSearchResults","selectedCategory","setSelectedCategory","fetchProductsByCategory","response","fetch","method","ok","Error","data","json","results","result","filteredResults","filter","product","category","name","error","console","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","rel","href","showSearch","setCategory"],"sources":["D:/VSCode/learn react/learn/src/MenuPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport NavBar from './components/NavBar';\r\nimport Category from './components/Category';\r\nimport ListMenu from './components/ListMenu';\r\n\r\nfunction MenuPage() {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n\r\n  useEffect(() => {\r\n    const fetchProductsByCategory = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:8080/mycoffee/product', { method: 'GET' });\r\n\r\n        if (!response.ok) throw new Error('Failed to fetch products');\r\n\r\n        const data = await response.json();\r\n        const results = data.result || [];\r\n\r\n        if (selectedCategory === 'All') {\r\n          setSearchResults(results); // Hiển thị tất cả nếu chọn All\r\n        } else {\r\n          // Lọc theo category\r\n          const filteredResults = results.filter(\r\n            (product) => product.category.name === selectedCategory\r\n          );\r\n          setSearchResults(filteredResults);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n      }\r\n    };\r\n\r\n    fetchProductsByCategory();\r\n  }, [selectedCategory]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"assets/bootstrap/css/bootstrap.min.css?h=ae25e30cd2ef0f4f5b70ebf4c668048b\"\r\n        />\r\n      </Helmet>\r\n      <NavBar showSearch={true} setSearchResults={setSearchResults} />\r\n      <Category setCategory={setSelectedCategory} />\r\n      <ListMenu searchResults={searchResults} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MenuPage;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,cAAc;AACrC,OAAO,sCAAsC;AAC7C,OAAO,2CAA2C;AAClD,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,QAAQ,MAAM,uBAAuB;AAE5C,SAASC,QAAQA,CAAA,EAAG;EAClB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACS,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE/DC,SAAS,CAAC,MAAM;IACd,MAAMU,uBAAuB,GAAG,MAAAA,CAAA,KAAY;MAC1C,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;UAAEC,MAAM,EAAE;QAAM,CAAC,CAAC;QAEzF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;QAE7D,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;QAClC,MAAMC,OAAO,GAAGF,IAAI,CAACG,MAAM,IAAI,EAAE;QAEjC,IAAIX,gBAAgB,KAAK,KAAK,EAAE;UAC9BD,gBAAgB,CAACW,OAAO,CAAC,CAAC,CAAC;QAC7B,CAAC,MAAM;UACL;UACA,MAAME,eAAe,GAAGF,OAAO,CAACG,MAAM,CACnCC,OAAO,IAAKA,OAAO,CAACC,QAAQ,CAACC,IAAI,KAAKhB,gBACzC,CAAC;UACDD,gBAAgB,CAACa,eAAe,CAAC;QACnC;MACF,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAEDf,uBAAuB,CAAC,CAAC;EAC3B,CAAC,EAAE,CAACF,gBAAgB,CAAC,CAAC;EAEtB,oBACEV,KAAA,CAAA6B,aAAA,CAAA7B,KAAA,CAAA8B,QAAA,qBACE9B,KAAA,CAAA6B,aAAA,CAAC1B,MAAM;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLpC,KAAA,CAAA6B,aAAA;IACEQ,GAAG,EAAC,YAAY;IAChBC,IAAI,EAAC,2EAA2E;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACjF,CACK,CAAC,eACTpC,KAAA,CAAA6B,aAAA,CAACzB,MAAM;IAACmC,UAAU,EAAE,IAAK;IAAC9B,gBAAgB,EAAEA,gBAAiB;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAChEpC,KAAA,CAAA6B,aAAA,CAACxB,QAAQ;IAACmC,WAAW,EAAE7B,mBAAoB;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC9CpC,KAAA,CAAA6B,aAAA,CAACvB,QAAQ;IAACE,aAAa,EAAEA,aAAc;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACzC,CAAC;AAEP;AAEA,eAAe7B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}